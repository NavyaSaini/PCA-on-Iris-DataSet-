#1D representation

pcaone = PCA(n_components = 1)
pca1_vals = pcaone.fit_transform(x)
zeros = [0 for i in range(150)]
pc1_components = []
for i in pca1_vals:
    pc1_components.append(i[0])
plt.figure(figsize = (10,4))
sns.scatterplot(pc1_components, zeros, hue=df.target)
plt.title('Iris Data Set projected to first principal component')
plt.ylabel('Arbirary axis for visualisation')
plt.xlabel('Principal Component 1')
plt.show()

#in 2 PCs
pca = PCA(n_components=2)
components = pca.fit_transform(x)
pca2_df = pd.DataFrame(data = components, columns = ['pca1', 'pca2'])

sns.scatterplot(pca2_df.pca1, pca2_df.pca2, hue = df.target)
plt.ylabel('Principal Component 1')
plt.xlabel('Principal Component 2')
plt.title('Projection of Iris data into the first two PCs')
plt.show()

#Variance ratio
iris_pca = PCA(n_components=4)
iris_pca.fit_transform(x) #transform the axis of pca to fit the data
var_ratio = iris_pca.explained_variance_ratio_
var_ratio= pd.DataFrame(var_ratio).transpose()
var_ratio.columns = ['PC1', 'PC2', 'PC3', 'PC4']
var_ratio.index = ['Proportion of Variance']

plt.plot(['PC1','PC2','PC3','PC4'], [0.727705, 0.230305 , 0.036838 , 0.005152])
plt.title('Variance captured by each principal component')
plt.xlabel('Principal Component (PC)')
plt.ylabel('Variance captured')
